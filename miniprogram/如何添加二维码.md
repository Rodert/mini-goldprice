# 如何添加个人二维码

## 📱 功能说明

首页右上角显示个人二维码，用户可以：
- **点击**：放大预览二维码
- **长按**：识别二维码（微信会自动识别）

## 🎯 三种添加方式

### 方式一：使用本地图片（推荐）

#### 步骤1：准备二维码图片
1. 生成你的个人或公司二维码（微信、网站、名片等）
2. 保存为图片文件（建议：200x200px，PNG或JPG格式）
3. 文件命名：`qrcode.png`

#### 步骤2：添加到项目
将二维码图片放到项目目录：
```
miniprogram/
└── images/
    └── qrcode.png     ← 你的二维码图片
```

#### 步骤3：修改代码
打开 `miniprogram/pages/index/index.js`，找到第29行：

```javascript
// 修改前
qrcodeUrl: 'https://via.placeholder.com/200x200.png?text=二维码'

// 修改为
qrcodeUrl: '/images/qrcode.png'
```

保存后重新编译即可！

---

### 方式二：使用在线图片地址

如果你的二维码已经上传到服务器：

```javascript
// 修改 pages/index/index.js 第29行
qrcodeUrl: 'https://你的域名.com/qrcode.png'
```

**注意**：
- 域名需要在微信公众平台配置（服务器域名 - downloadFile合法域名）
- 图片必须支持HTTPS访问

---

### 方式三：使用小程序云存储

如果使用小程序云开发：

#### 步骤1：上传到云存储
```javascript
wx.cloud.uploadFile({
  cloudPath: 'qrcode.png',
  filePath: '本地文件路径'
})
```

#### 步骤2：获取云存储地址
```javascript
// 得到类似这样的地址
cloud://xxx.xxx-xxx/qrcode.png
```

#### 步骤3：修改代码
```javascript
qrcodeUrl: 'cloud://xxx.xxx-xxx/qrcode.png'
```

---

## 🔧 生成二维码的工具

### 在线工具
1. **草料二维码**：https://cli.im/
2. **联图二维码**：https://www.liantu.com/
3. **微微二维码**：http://www.wwei.cn/

### 小程序码
如果想生成小程序码：
1. 登录微信公众平台
2. 开发 → 开发管理 → 开发设置
3. 生成小程序码
4. 下载保存

### 个人微信二维码
1. 打开微信
2. 我 → 二维码名片
3. 点击右上角三个点
4. 保存到相册

---

## 💡 完整示例

### 示例1：使用本地图片

```javascript
// pages/index/index.js
data: {
  qrcodeUrl: '/images/qrcode.png'  // 本地图片
}
```

### 示例2：使用多个二维码

如果想放多个二维码（如微信、抖音等）：

```javascript
// pages/index/index.js
data: {
  qrcodeUrl: '/images/wechat-qrcode.png',  // 默认显示微信
  qrcodes: [
    {
      name: '微信',
      url: '/images/wechat-qrcode.png'
    },
    {
      name: '抖音',
      url: '/images/douyin-qrcode.png'
    }
  ]
}
```

---

## ⚠️ 注意事项

### 1. 图片格式
- 支持：PNG、JPG、JPEG
- 推荐：PNG（透明背景更好看）
- 尺寸：200x200px 或更大（保证清晰）

### 2. 文件大小
- 建议小于 500KB
- 太大会影响加载速度

### 3. 长按识别
- 微信会自动识别二维码
- 无需额外配置
- `show-menu-by-longpress="true"` 已启用

### 4. 点击放大
- 使用微信原生的图片预览功能
- 支持缩放和保存
- 用户体验更好

---

## 🎨 样式调整

如果想调整二维码的样式，修改 `pages/index/index.wxss`：

```css
.qrcode-btn {
  width: 100rpx;       /* 二维码容器宽度 */
  height: 100rpx;      /* 二维码容器高度 */
  background: #fff;    /* 背景颜色 */
  border-radius: 16rpx; /* 圆角大小 */
  padding: 8rpx;       /* 内边距 */
}
```

---

## 🚀 快速测试

### 1. 临时测试
暂时使用占位图片测试功能：
```javascript
qrcodeUrl: 'https://via.placeholder.com/200x200.png?text=测试二维码'
```

### 2. 生成测试二维码
访问：https://cli.im/text
- 输入文本：你的微信号或网址
- 点击生成
- 下载图片

### 3. 替换真实二维码
将下载的图片按上述方式添加到项目中

---

## 📝 常见问题

### Q1: 二维码不显示？
**A**: 检查图片路径是否正确，确保图片文件存在。

### Q2: 长按无法识别？
**A**: 确保二维码图片清晰，分辨率足够高。

### Q3: 点击没反应？
**A**: 检查是否绑定了 `bindtap="onPreviewQRCode"` 事件。

### Q4: 能否使用base64图片？
**A**: 可以，但不推荐（会增加代码体积）：
```javascript
qrcodeUrl: 'data:image/png;base64,iVBORw0KG...'
```

### Q5: 如何更换二维码？
**A**: 只需替换图片文件，或修改 `qrcodeUrl` 地址即可。

---

## 🎉 完成

现在你的首页右上角已经有了一个可以点击放大、长按识别的二维码了！

**建议内容**：
- 个人微信二维码
- 公司客服微信
- 抖音/视频号
- 公众号二维码
- 小程序码
- 官方网站

客户可以通过扫码快速联系你！📱

